# PC桌面护眼软件设计方案

## 一、核心功能需求
1. 定时黑屏：用户可设置时间间隔（如30分钟），到时所有显示器黑屏。黑屏是指为桌面添加一个全屏的黑色窗口，覆盖所有显示器。
2. 强制休息：黑屏持续1分钟，期间无法进行任何操作
3. 手动解除：1分钟后用户可手动解除黑屏状态
4. 配置界面：允许用户自定义休息间隔、黑屏时长等

## 二、技术选型方案

采用.net8 + C# + Windows WinUI3技术开发;
采用简化的MVVM架构，减少ICommand、INotifyPropertyChanged等样板代码;
依赖通过NuGet管理;

## 三、基础框架设计

### 1. 推荐的项目结构
```
EyeGuard/
├── src/
│   ├── Core/           # 核心逻辑
│   │   ├── TimerManager     # 定时器管理
│   │   ├── ScreenController # 显示器控制
│   │   └── Settings         # 配置管理
│   ├── UI/            # 用户界面
│   │   ├── MainForm        # 主窗口
│   │   ├── SettingsForm    # 设置窗口
│   │   └── TrayIcon        # 系统托盘
│   └── Utils/         # 工具类
│       └── Win32API        # Windows API封装
├── app.config
└── Program.cs
```

## 四、功能清单

1. 定时黑屏
    软件启动后，按照用户设置的时间间隔，自动黑屏所有显示器。
2. 强制休息
    黑屏持续1分钟，期间无法进行解除操作。
3. 手动解除
    1分钟后用户可手动解除黑屏状态。
4. 配置界面
    允许用户自定义休息间隔、黑屏时长等。
5. 推迟休息
    用户可在强制休息时间内，选择推迟休息。推迟时间到后，继续按照设置的时间间隔进行黑屏。

## 六、部署方案

### 1. 安装程序
- 使用微软推荐的安装包格式（如MSI或EXE）
- 可选开机启动
- 添加防火墙例外

### 2. 权限要求

尽量只要求普通模式,不需要管理员权限

## 七、增强功能建议

### 1. 基础版本
- 基本的定时黑屏功能
- 系统托盘控制
- 简单的设置界面

### 2. 用户体验优化
- 休息前预告（提前10秒提示）

## 八、开发注意事项

1. **多显示器支持**：确保所有显示器都能被控制
2. **资源占用**：保持低内存和CPU使用
3. **稳定性**：避免影响系统和其他应用程序
4. **用户控制**：提供暂停计时的选项

## 九、开发路线图

### 第一阶段（MVP，1-2周）
- 基础计时功能
- 简单的黑屏控制
- 系统托盘图标

### 第二阶段（1-2周）
- 完整的设置界面
- 配置文件支持
- 安装程序

### 第三阶段（可选）
- 高级功能（智能检测、统计等）
- 跨平台版本

### 第四阶段（可选）
- 发布一个版本
- 提供安装程序
- 发布到github release